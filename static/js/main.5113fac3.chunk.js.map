{"version":3,"sources":["utils/fetchAPI.js","global/index.js","pages/Home/components/LeaderBlock/index.js","pages/Home/index.js","App.js","index.js","pages/Home/components/LeaderBlock/styles.module.css","pages/Home/styles.module.css"],"names":["API","ResponseError","response","status","Error","captureStackTrace","constructor","name","message","method","a","endpoint","query","body","options","rawResponse","omittedQuery","_","omitBy","value","isString","isEmpty","queryString","qs","stringify","skipNulls","arrayFormat","request","headers","JSON","fetch","apply","json","availableRegions","LeaderBlock","props","className","Styles","mainCont","numberCont","leader","rowNumber","nameCont","get","ratingCont","rating","Home","useState","leaderboard","setLeaderboard","page","pageSize","region","filters","setFilters","useEffect","fetchAPI","then","res","catch","console","log","inputCont","TextField","inputField","id","label","variant","onChange","e","target","Select","inputSelect","labelId","map","index","MenuItem","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5113fac3.chunk.js","sourcesContent":["/**\n * This file contains important function for communication with api serever\n */\n\n// vendor\nimport _ from 'lodash';\nimport qs from 'qs';\n\nexport const API = 'https://gt-leaderboard-api.herokuapp.com';\n\nclass ResponseError extends Error {\n    constructor(response, status) {\n        super();\n\n        Error.captureStackTrace(this, this.constructor);\n\n        this.name = this.constructor.name;\n        this.message = 'Response Error';\n        this.response = response;\n        this.status = status || 500;\n    }\n}\n\n/**\n * This function is used to make server request. It automatically handles all transformations and, set authorization token and get aut tiken\n * @param {*} method    - request method, one of: \"POST\", \"PUT\", \"GET\", etc.\n * @param {*} endpoint  - request endpoint, for example: '/users'\n * @param {*} [ query ] - query parameters in form of js object: {myParam: \"text\", queryFilter: \"bla\"}, null if no value\n * @param {*} [ body ]  - js object for some methods, null if no body\n * \n * @param {*} [ options = {} ]        - additional options for request\n * @param {*} [ options.rawResponse ] - Do not transform received response into json and return as is\n */\nexport async function fetchAPI(method, endpoint = '', query = {}, body = {}, options = {}) {\n    const { rawResponse = false } = options;\n\n    const omittedQuery = _.omitBy( query, value => _.isString(value) && _.isEmpty(value)); //Remove empty strings\n\n    const queryString = qs.stringify(omittedQuery, {\n        skipNulls:   true,\n        arrayFormat: 'repeat',\n    });\n\n    const request = {\n        method,\n        headers: {\n            'content-type':                   'application/json',\n            'Access-Control-Request-Headers': '*',\n        },\n    };\n\n    if (method === 'POST' || method === 'PUT' || method === 'DELETE') {\n        request.body = JSON.stringify(body);\n    }\n\n    const response = await fetch.apply(null, [ `${API}${endpoint}${queryString ? `?${queryString}` : ''}`, request, ...arguments ]);\n\n    const { status } = response;\n\n    switch (true) {\n        case status >= 200 && status < 300:\n            return rawResponse ? await response : await response.json();\n        default:\n            throw new ResponseError(await response.json(), status);\n    }\n}\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\n/** Available regions */\r\nconst availableRegions = ['EU', 'NA', 'SA', 'AF', 'AS', 'OC'];\r\n\r\nexport {\r\n    availableRegions,\r\n};","\r\nimport _ from 'lodash';\r\n\r\nimport Styles from './styles.module.css';\r\n\r\nconst LeaderBlock = (props) => {\r\n    return (\r\n        <div className={ Styles.mainCont }>\r\n            <div className={Styles.numberCont}>{props.leader.rowNumber}</div>\r\n            <div className={Styles.nameCont}>\r\n                {_.get(props, 'leader.firstName', '')}\r\n                {_.get(props, 'leader.lastName', '')}\r\n            </div>\r\n            <div className={Styles.ratingCont}>{props.leader.rating}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeaderBlock;","import { useState, useEffect } from 'react';\r\nimport { Select, TextField, MenuItem } from '@mui/material';\r\nimport _ from 'lodash';\r\n\r\nimport { fetchAPI } from 'utils';\r\nimport { availableRegions } from 'global';\r\n\r\nimport { LeaderBlock } from './components';\r\nimport Styles from './styles.module.css';\r\n\r\nconst Home = () => {\r\n    const [leaderboard, setLeaderboard] = useState({});\r\n    const [filters, setFilters] = useState({page: 1, pageSize: 2, query: \"\", region: \"\"});\r\n\r\n    useEffect(() => {\r\n        fetchAPI('GET', '/leaderboard', filters)\r\n            .then(res => {\r\n                setLeaderboard(res);\r\n            })\r\n            .catch(console.log);\r\n    }, [filters]);\r\n    \r\n    return (\r\n        <div className={Styles.mainCont}>\r\n            <div className={Styles.inputCont} >\r\n                <TextField\r\n                    className={Styles.inputField}\r\n                    id=\"filled-basic\"\r\n                    label=\"Search...\"\r\n                    variant=\"filled\"\r\n                    value={ filters.query }\r\n                    onChange={e => setFilters({...filters, query: e.target.value})}\r\n                />\r\n                <Select\r\n                    className={Styles.inputSelect}\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    label=\"Region\"\r\n                    value={filters.region}\r\n                    onChange={e => setFilters({...filters, region: e.target.value})}\r\n                >\r\n                    {\r\n                        _.map(availableRegions, (region, index) => {\r\n                            return <MenuItem key={index} value={region}>{region}</MenuItem>\r\n                        })\r\n                    }\r\n                    <MenuItem value={\"\"}>All regions</MenuItem>\r\n                </Select>\r\n            </div>\r\n            {\r\n                _.map(leaderboard.leaderboard, (leader) => {\r\n                    return <LeaderBlock key={leader.id} leader={leader}/>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import './App.css';\n\nimport { Home } from 'pages';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <div className={\"pageHeader\"}>\n                <div className={\"pageTitle\"}>\n                    LEADERBOARD\n                </div>\n            </div>\n            <div className={\"pageCont\"}>\n                <Home />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCont\":\"styles_mainCont__77O-r\",\"numberCont\":\"styles_numberCont__ohRAV\",\"nameCont\":\"styles_nameCont__VwcNQ\",\"ratingCont\":\"styles_ratingCont__3zPz7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCont\":\"styles_mainCont__3j6wT\",\"inputCont\":\"styles_inputCont__1bedm\",\"inputField\":\"styles_inputField__2n9xL\",\"inputSelect\":\"styles_inputSelect__3cLth\"};"],"sourceRoot":""}