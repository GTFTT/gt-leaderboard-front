{"version":3,"sources":["utils/fetchAPI.js","global/index.js","pages/Home/components/LeaderBlock/index.js","pages/Home/index.js","App.js","index.js","pages/Home/components/LeaderBlock/styles.module.css","pages/Home/styles.module.css"],"names":["API","ResponseError","response","status","Error","captureStackTrace","constructor","name","message","method","a","endpoint","query","body","options","rawResponse","omittedQuery","_","omitBy","value","isString","isEmpty","queryString","qs","stringify","skipNulls","arrayFormat","request","headers","JSON","fetch","apply","json","availableRegions","LeaderBlock","props","useState","anchorEl","setAnchorEl","handlePopoverClose","open","Boolean","className","Styles","mainCont","numberCont","onMouseEnter","event","currentTarget","onMouseLeave","leader","rowNumber","nameCont","get","ratingCont","rating","Popover","id","sx","pointerEvents","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","popoverContainer","popoverTitle","popoverEmail","href","email","Home","leaderboard","setLeaderboard","page","pageSize","region","filters","setFilters","useEffect","fetchAPI","then","res","catch","console","log","controlsCont","inputCont","TextField","inputField","label","variant","onChange","e","target","Select","inputSelect","labelId","map","index","MenuItem","paginationCont","Pagination","count","Math","ceil","shape","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d3d60068.chunk.js","sourcesContent":["/**\n * This file contains important function for communication with api serever\n */\n\n// vendor\nimport _ from 'lodash';\nimport qs from 'qs';\n\n// export const API = 'http://localhost:8000';\nexport const API = 'https://gt-leaderboard-api.herokuapp.com';\n\nclass ResponseError extends Error {\n    constructor(response, status) {\n        super();\n\n        Error.captureStackTrace(this, this.constructor);\n\n        this.name = this.constructor.name;\n        this.message = 'Response Error';\n        this.response = response;\n        this.status = status || 500;\n    }\n}\n\n/**\n * This function is used to make server request. It automatically handles all transformations and, set authorization token and get aut tiken\n * @param {*} method    - request method, one of: \"POST\", \"PUT\", \"GET\", etc.\n * @param {*} endpoint  - request endpoint, for example: '/users'\n * @param {*} [ query ] - query parameters in form of js object: {myParam: \"text\", queryFilter: \"bla\"}, null if no value\n * @param {*} [ body ]  - js object for some methods, null if no body\n * \n * @param {*} [ options = {} ]        - additional options for request\n * @param {*} [ options.rawResponse ] - Do not transform received response into json and return as is\n */\nexport async function fetchAPI(method, endpoint = '', query = {}, body = {}, options = {}) {\n    const { rawResponse = false } = options;\n\n    const omittedQuery = _.omitBy( query, value => _.isString(value) && _.isEmpty(value)); //Remove empty strings\n\n    const queryString = qs.stringify(omittedQuery, {\n        skipNulls:   true,\n        arrayFormat: 'repeat',\n    });\n\n    const request = {\n        method,\n        headers: {\n            'content-type':                   'application/json',\n            'Access-Control-Request-Headers': '*',\n        },\n    };\n\n    if (method === 'POST' || method === 'PUT' || method === 'DELETE') {\n        request.body = JSON.stringify(body);\n    }\n\n    const response = await fetch.apply(null, [ `${API}${endpoint}${queryString ? `?${queryString}` : ''}`, request, ...arguments ]);\n\n    const { status } = response;\n\n    switch (true) {\n        case status >= 200 && status < 300:\n            return rawResponse ? await response : await response.json();\n        default:\n            throw new ResponseError(await response.json(), status);\n    }\n}\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\n/** Available regions */\r\nconst availableRegions = ['EU', 'NA', 'SA', 'AF', 'AS', 'OC'];\r\n\r\nexport {\r\n    availableRegions,\r\n};","import { useState } from 'react';\r\nimport _ from 'lodash';\r\nimport { Popover } from '@mui/material';\r\n\r\nimport Styles from './styles.module.css';\r\n\r\nconst LeaderBlock = (props) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handlePopoverOpen = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handlePopoverClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n\r\n    return (\r\n        <div className={ Styles.mainCont }>\r\n            <div\r\n                className={Styles.numberCont}\r\n                onMouseEnter={handlePopoverOpen}\r\n                onMouseLeave={handlePopoverClose}\r\n            >\r\n                {props.leader.rowNumber}\r\n            </div>\r\n\r\n            <div className={Styles.nameCont}>\r\n                {`${_.get(props, 'leader.firstName', '')} ${_.get(props, 'leader.lastName', '')}`}\r\n            </div>\r\n\r\n            <div className={Styles.ratingCont}>{props.leader.rating}</div>\r\n\r\n            <Popover\r\n                id=\"mouse-over-popover\"\r\n                sx={{\r\n                pointerEvents: 'none',\r\n                }}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                onClose={handlePopoverClose}\r\n                disableRestoreFocus\r\n            >\r\n                <div className={Styles.popoverContainer}>\r\n                    <div className={Styles.popoverTitle}>\r\n                        {`${_.get(props, 'leader.firstName', '')} ${_.get(props, 'leader.lastName', '')}`}\r\n                        <span>(#{_.get(props, 'leader.id', '')})</span>\r\n                    </div>\r\n                    <a className={Styles.popoverEmail} href={`mailto:${props.leader.email}`}>\r\n                        { props.leader.email }\r\n                    </a>\r\n                </div>\r\n            </Popover>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LeaderBlock;","import { useState, useEffect } from 'react';\r\nimport { Select, TextField, MenuItem, Pagination, PaginationItem } from '@mui/material';\r\nimport _ from 'lodash';\r\n\r\nimport { fetchAPI } from 'utils';\r\nimport { availableRegions } from 'global';\r\n\r\nimport { LeaderBlock } from './components';\r\nimport Styles from './styles.module.css';\r\n\r\nconst Home = () => {\r\n    const [leaderboard, setLeaderboard] = useState({});\r\n    const [filters, setFilters] = useState({page: 1, pageSize: 25, query: \"\", region: \"\"});\r\n\r\n    useEffect(() => {\r\n        fetchAPI('GET', '/leaderboard', filters)\r\n            .then(res => {\r\n                setLeaderboard(res);\r\n            })\r\n            .catch(console.log);\r\n    }, [filters]);\r\n    \r\n    return (\r\n        <div className={Styles.mainCont}>\r\n            <div className={Styles.controlsCont}>\r\n                <div className={Styles.inputCont} >\r\n                    <TextField\r\n                        className={Styles.inputField}\r\n                        id=\"filled-basic\"\r\n                        label=\"Search...\"\r\n                        variant=\"filled\"\r\n                        value={ filters.query }\r\n                        onChange={e => setFilters({...filters, query: e.target.value})}\r\n                    />\r\n                    <Select\r\n                        className={Styles.inputSelect}\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        label=\"Region\"\r\n                        value={filters.region}\r\n                        onChange={e => setFilters({...filters, region: e.target.value})}\r\n                    >\r\n                        {\r\n                            _.map(availableRegions, (region, index) => {\r\n                                return <MenuItem key={index} value={region}>{region}</MenuItem>\r\n                            })\r\n                        }\r\n                        <MenuItem value={\"\"}>All regions</MenuItem>\r\n                    </Select>\r\n                </div>\r\n                <div className={Styles.paginationCont}>\r\n                    <Pagination\r\n                        value={filters.page}\r\n                        count={Math.ceil(_.get(leaderboard, 'stats.count', 0)/filters.pageSize)}\r\n                        shape=\"rounded\"\r\n                        variant=\"outlined\"\r\n                        onChange={(e, value) => setFilters({...filters, page: value})}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                _.map(leaderboard.leaderboard, (leader) => {\r\n                    return <LeaderBlock key={leader.id} leader={leader}/>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import './App.css';\n\nimport { Home } from 'pages';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <div className={\"pageHeader\"}>\n                <div className={\"pageTitle\"}>\n                    LEADERBOARD\n                </div>\n            </div>\n            <div className={\"pageCont\"}>\n                <Home />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCont\":\"styles_mainCont__77O-r\",\"numberCont\":\"styles_numberCont__ohRAV\",\"nameCont\":\"styles_nameCont__VwcNQ\",\"popoverTitle\":\"styles_popoverTitle__10X9D\",\"ratingCont\":\"styles_ratingCont__3zPz7\",\"popoverContainer\":\"styles_popoverContainer__1gq5n\",\"popoverEmail\":\"styles_popoverEmail__1Yrui\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCont\":\"styles_mainCont__3j6wT\",\"controlsCont\":\"styles_controlsCont__1qNY7\",\"inputCont\":\"styles_inputCont__1bedm\",\"inputField\":\"styles_inputField__2n9xL\",\"inputSelect\":\"styles_inputSelect__3cLth\",\"paginationCont\":\"styles_paginationCont__1LNE9\"};"],"sourceRoot":""}