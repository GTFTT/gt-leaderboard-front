(this["webpackJsonpgt-leaderboard-front"]=this["webpackJsonpgt-leaderboard-front"]||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},119:function(e,t){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),o=a.n(c),s=(a(105),a(106),a(28)),i=a(13),l=a(170),d=a(169),u=a(174),j=a(173),p=a(17),b=a.n(p),h=a(70),m=a.n(h),O=a(84),g=a(52),v=a(53),f=a(85),x=a(90),_=a(89),C=a(86),y=a.n(C),N="https://gt-leaderboard-api.herokuapp.com",S=function(e){Object(f.a)(a,e);var t=Object(x.a)(a);function a(e,n){var r;return Object(g.a)(this,a),r=t.call(this),Error.captureStackTrace(Object(v.a)(r),r.constructor),r.name=r.constructor.name,r.message="Response Error",r.response=e,r.status=n||500,r}return a}(Object(_.a)(Error));function E(e){return w.apply(this,arguments)}function w(){return w=Object(O.a)(m.a.mark((function e(t){var a,n,r,c,o,s,i,l,d,u,j,p=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:"",n=p.length>2&&void 0!==p[2]?p[2]:{},r=p.length>3&&void 0!==p[3]?p[3]:{},c=p.length>4&&void 0!==p[4]?p[4]:{},o=c.rawResponse,s=void 0!==o&&o,i=b.a.omitBy(n,(function(e){return b.a.isString(e)&&b.a.isEmpty(e)})),l=y.a.stringify(i,{skipNulls:!0,arrayFormat:"repeat"}),d={method:t,headers:{"content-type":"application/json","Access-Control-Request-Headers":"*"}},"POST"!==t&&"PUT"!==t&&"DELETE"!==t||(d.body=JSON.stringify(r)),e.next=11,fetch.apply(null,["".concat(N).concat(a).concat(l?"?".concat(l):""),d].concat(Array.prototype.slice.call(p)));case 11:u=e.sent,j=u.status,e.t0=!0,e.next=e.t0===(j>=200&&j<300)?16:26;break;case 16:if(!s){e.next=22;break}return e.next=19,u;case 19:e.t1=e.sent,e.next=25;break;case 22:return e.next=24,u.json();case 24:e.t1=e.sent;case 25:return e.abrupt("return",e.t1);case 26:return e.t2=S,e.next=29,u.json();case 29:throw e.t3=e.sent,e.t4=j,new e.t2(e.t3,e.t4);case 32:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}var T=["EU","NA","SA","AF","AS","OC"],A=a(176),k=a(35),z=a.n(k),R=a(2),L=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1],o=function(){c(null)},s=Boolean(r);return Object(R.jsxs)("div",{className:z.a.mainCont,children:[Object(R.jsx)("div",{className:z.a.numberCont,onMouseEnter:function(e){c(e.currentTarget)},onMouseLeave:o,children:e.leader.rowNumber}),Object(R.jsx)("div",{className:z.a.nameCont,children:"".concat(b.a.get(e,"leader.firstName","")," ").concat(b.a.get(e,"leader.lastName",""))}),Object(R.jsx)("span",{children:Object(R.jsx)(H,{userId:e.leader.id})}),Object(R.jsx)("div",{className:z.a.ratingCont,children:e.leader.rating}),Object(R.jsx)(A.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:s,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:o,disableRestoreFocus:!0,children:Object(R.jsxs)("div",{className:z.a.popoverContainer,children:[Object(R.jsxs)("div",{className:z.a.popoverTitle,children:["".concat(b.a.get(e,"leader.firstName","")," ").concat(b.a.get(e,"leader.lastName","")),Object(R.jsxs)("span",{children:["(#",b.a.get(e,"leader.id",""),")"]})]}),Object(R.jsx)("a",{className:z.a.popoverEmail,href:"mailto:".concat(e.leader.email),children:e.leader.email})]})})]})},q=a(179),F=a(171),D=a(180),M=a(181),B=a(74),I=a.n(B),J={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#555",color:"white",border:"2px solid #000",boxShadow:24,p:4},H=function(e){var t=e.userId,a=Object(n.useState)({page:1,pageSize:10}),r=Object(i.a)(a,2),c=r[0],o=r[1],l=Object(n.useState)({}),d=Object(i.a)(l,2),u=d[0],p=d[1],h=Object(n.useState)(!1),m=Object(i.a)(h,2),O=m[0],g=m[1];Object(n.useEffect)((function(){t&&O&&E("GET","/users/".concat(t,"/scores"),c).then((function(e){p(e)})).catch(console.log)}),[t,c,O]);return Object(R.jsxs)("div",{children:[Object(R.jsx)(q.a,{onClick:function(){return g(!0)},children:"Scores"}),Object(R.jsx)(F.a,{open:O,onClose:function(){return g(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(R.jsxs)(D.a,{sx:J,children:[Object(R.jsx)(M.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Score history"}),Object(R.jsx)(M.a,{id:"modal-modal-description",sx:{mt:2},children:b.a.map(u.userScores,(function(e){return Object(R.jsx)("div",{className:I.a.score,children:e.score})}))}),Object(R.jsx)("div",{className:I.a.paginationCont,children:Object(R.jsx)(j.a,{value:c.page,count:Math.ceil(b.a.get(u,"stats.count",0)/c.pageSize),shape:"rounded",variant:"outlined",onChange:function(e,t){return o(Object(s.a)(Object(s.a)({},c),{},{page:t}))}})})]})})]})},P=a(38),G=a.n(P),U=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({page:1,pageSize:25,query:"",region:""}),o=Object(i.a)(c,2),p=o[0],h=o[1];return Object(n.useEffect)((function(){E("GET","/leaderboard",p).then((function(e){r(e)})).catch(console.log)}),[p]),Object(R.jsxs)("div",{className:G.a.mainCont,children:[Object(R.jsxs)("div",{className:G.a.controlsCont,children:[Object(R.jsxs)("div",{className:G.a.inputCont,children:[Object(R.jsx)(l.a,{className:G.a.inputField,id:"filled-basic",label:"Search...",variant:"filled",value:p.query,onChange:function(e){return h(Object(s.a)(Object(s.a)({},p),{},{query:e.target.value,page:1}))}}),Object(R.jsxs)(d.a,{className:G.a.inputSelect,labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Region",value:p.region,onChange:function(e){return h(Object(s.a)(Object(s.a)({},p),{},{region:e.target.value,page:1}))},children:[b.a.map(T,(function(e,t){return Object(R.jsx)(u.a,{value:e,children:e},t)})),Object(R.jsx)(u.a,{value:"",children:"All regions"})]})]}),Object(R.jsx)("div",{className:G.a.paginationCont,children:Object(R.jsx)(j.a,{value:p.page,count:Math.ceil(b.a.get(a,"stats.count",0)/p.pageSize),shape:"rounded",variant:"outlined",onChange:function(e,t){return h(Object(s.a)(Object(s.a)({},p),{},{page:t}))}})})]}),b.a.map(a.leaderboard,(function(e){return Object(R.jsx)(L,{leader:e},e.id)}))]})};var V=function(){return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)("div",{className:"pageHeader",children:Object(R.jsx)("div",{className:"pageTitle",children:"LEADERBOARD"})}),Object(R.jsx)("div",{className:"pageCont",children:Object(R.jsx)(U,{})})]})};o.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(V,{})}),document.getElementById("root"))},35:function(e,t,a){e.exports={mainCont:"styles_mainCont__77O-r",numberCont:"styles_numberCont__ohRAV",nameCont:"styles_nameCont__VwcNQ",popoverTitle:"styles_popoverTitle__10X9D",ratingCont:"styles_ratingCont__3zPz7",popoverContainer:"styles_popoverContainer__1gq5n",popoverEmail:"styles_popoverEmail__1Yrui"}},38:function(e,t,a){e.exports={mainCont:"styles_mainCont__3j6wT",controlsCont:"styles_controlsCont__1qNY7",inputCont:"styles_inputCont__1bedm",inputField:"styles_inputField__2n9xL",inputSelect:"styles_inputSelect__3cLth",paginationCont:"styles_paginationCont__1LNE9"}},74:function(e,t,a){e.exports={paginationCont:"styles_paginationCont__3JiHD",score:"styles_score__jLKsh"}}},[[127,1,2]]]);
//# sourceMappingURL=main.e1476980.chunk.js.map